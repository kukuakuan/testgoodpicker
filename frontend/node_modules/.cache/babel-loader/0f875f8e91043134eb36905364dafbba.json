{"ast":null,"code":"var _jsxFileName = \"/home/quan/code/code_js/goodpicker/frontend/src/App.js\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport { BrowserRouter, Switch, Route } from 'react-router-dom';\nimport UserProfilePage from './pages/profile';\nimport UserPage from './pages/user';\nimport HomePage from './pages/home';\nimport LoginPage from './pages/login';\nimport AboutUs from './pages/about-us';\nimport NewPost from './pages/new-post';\nimport Custom404 from './pages/404';\nimport SearchPage from './pages/search';\nimport Chat from './pages/chat';\nimport { useAuthState, useAuthenticate, useLogout } from './hooks/useAuth';\nimport AuthService from './service/AuthService';\nimport GoodsPage from './pages/goods';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction App() {\n  _s();\n\n  const {\n    user,\n    cookies\n  } = useAuthState();\n  const authenicate = useAuthenticate();\n  const logout = useLogout();\n  React.useLayoutEffect(() => {\n    if (cookies['gp_token'] && !user) {\n      AuthService.getMe(cookies['gp_token']).then(res => authenicate({\n        user: res.data,\n        token: cookies['gp_token']\n      })).catch(err => logout());\n    }\n  }, [cookies, user, authenicate, logout]);\n  return /*#__PURE__*/_jsxDEV(BrowserRouter, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"App\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"content\",\n        children: /*#__PURE__*/_jsxDEV(Switch, {\n          children: [/*#__PURE__*/_jsxDEV(Route, {\n            exact: true,\n            path: \"/\",\n            component: HomePage\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 37,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(Route, {\n            exact: true,\n            path: \"/login\",\n            component: LoginPage\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 38,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(Route, {\n            exact: true,\n            path: \"/profile\",\n            component: UserProfilePage\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 39,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(Route, {\n            exact: true,\n            path: \"/about-us\",\n            component: AboutUs\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 40,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(Route, {\n            exact: true,\n            path: \"/new-post\",\n            component: NewPost\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 41,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(Route, {\n            exact: true,\n            path: \"/users\",\n            component: UserPage\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 42,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(Route, {\n            exact: true,\n            path: \"/search\",\n            component: SearchPage\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 43,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(Route, {\n            exact: true,\n            path: \"/chat/:chatID/\",\n            component: Chat\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 44,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(Route, {\n            exact: true,\n            path: \"/goods/:goodsId\",\n            component: GoodsPage\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 45,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(Route, {\n            component: Custom404\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 46,\n            columnNumber: 7\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 36,\n          columnNumber: 6\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 35,\n        columnNumber: 5\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 4\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 33,\n    columnNumber: 3\n  }, this);\n}\n\n_s(App, \"VpySrVk5PDFczg+umchoLoZcGKw=\", false, function () {\n  return [useAuthState, useAuthenticate, useLogout];\n});\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"sources":["/home/quan/code/code_js/goodpicker/frontend/src/App.js"],"names":["React","BrowserRouter","Switch","Route","UserProfilePage","UserPage","HomePage","LoginPage","AboutUs","NewPost","Custom404","SearchPage","Chat","useAuthState","useAuthenticate","useLogout","AuthService","GoodsPage","App","user","cookies","authenicate","logout","useLayoutEffect","getMe","then","res","data","token","catch","err"],"mappings":"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","sourcesContent":["import React from 'react'\nimport { BrowserRouter, Switch, Route } from 'react-router-dom'\nimport UserProfilePage from './pages/profile'\nimport UserPage from './pages/user'\nimport HomePage from './pages/home'\nimport LoginPage from './pages/login'\nimport AboutUs from './pages/about-us'\nimport NewPost from './pages/new-post'\n\nimport Custom404 from './pages/404'\nimport SearchPage from './pages/search'\nimport Chat from './pages/chat'\nimport { useAuthState, useAuthenticate, useLogout } from './hooks/useAuth'\nimport AuthService from './service/AuthService'\nimport GoodsPage from './pages/goods'\n\nfunction App() {\n\tconst { user, cookies } = useAuthState()\n\tconst authenicate = useAuthenticate()\n\tconst logout = useLogout()\n\n\tReact.useLayoutEffect(() => {\n\t\tif (cookies['gp_token'] && !user) {\n\t\t\tAuthService.getMe(cookies['gp_token'])\n\t\t\t\t.then(res =>\n\t\t\t\t\tauthenicate({ user: res.data, token: cookies['gp_token'] })\n\t\t\t\t)\n\t\t\t\t.catch(err => logout())\n\t\t}\n\t}, [cookies, user, authenicate, logout])\n\n\treturn (\n\t\t<BrowserRouter>\n\t\t\t<div className=\"App\">\n\t\t\t\t<div className=\"content\">\n\t\t\t\t\t<Switch>\n\t\t\t\t\t\t<Route exact path=\"/\" component={HomePage} />\n\t\t\t\t\t\t<Route exact path=\"/login\" component={LoginPage} />\n\t\t\t\t\t\t<Route exact path=\"/profile\" component={UserProfilePage} />\n\t\t\t\t\t\t<Route exact path=\"/about-us\" component={AboutUs} />\n\t\t\t\t\t\t<Route exact path=\"/new-post\" component={NewPost} />\n\t\t\t\t\t\t<Route exact path=\"/users\" component={UserPage} />\n\t\t\t\t\t\t<Route exact path=\"/search\" component={SearchPage} />\n\t\t\t\t\t\t<Route exact path=\"/chat/:chatID/\" component={Chat} />\n\t\t\t\t\t\t<Route exact path=\"/goods/:goodsId\" component={GoodsPage} />\n\t\t\t\t\t\t<Route component={Custom404} />\n\t\t\t\t\t</Switch>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</BrowserRouter>\n\t)\n}\n\nexport default App\n"]},"metadata":{},"sourceType":"module"}