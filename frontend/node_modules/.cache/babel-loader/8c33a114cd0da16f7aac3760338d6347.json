{"ast":null,"code":"var _jsxFileName = \"/home/quan/code/code_js/goodpicker/frontend/src/pages/profile/index.js\",\n    _s = $RefreshSig$();\n\nimport './style.scss';\nimport { Row, Col, Form, Button, Upload, message, Tabs, Steps, Result, Select, Tag } from 'antd';\nimport React, { useEffect, useState } from 'react';\nimport CustomInputField from '../../components/elements/input';\nimport { Link, withRouter, useHistory, useParams } from 'react-router-dom';\nimport SiteLayout from '../../components/layouts/site-layout';\nimport ChangePassword from './change_password';\nimport { useAuthenticate, useAuthState } from '../../hooks/useAuth';\nimport Custom404 from '../404';\nimport axios from 'axios';\nimport { Alert, Modal } from 'antd';\nimport Loader from '../../components/elements/loader';\nimport UploadAvatar from './upload-avatar'; // import Avatar from './test/abc'\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst {\n  TabPane\n} = Tabs;\n\nconst newAvatar = (state, action) => {\n  switch (action.type) {\n    case 'get_provinces':\n      return { ...state,\n        provinces: action.provinces\n      };\n\n    case 'update_files':\n      return { ...state,\n        fileImg: action.fileImg\n      };\n\n    case 'update_index':\n      return { ...state,\n        mainIndex: action.mainIndex\n      };\n\n    case 'upload_success':\n      return { ...state,\n        status: 'success',\n        message: 'Cập nhật thành công',\n        clear: true\n      };\n\n    case 'upload_fail':\n      return { ...state,\n        status: 'error',\n        message: 'Đã có lỗi trong quá trình cập nhật. Vui lòng kiểm tra thông tin đã nhập'\n      };\n\n    case 'reset_status':\n      return { ...state,\n        status: 'idle'\n      };\n\n    case 'reset_images':\n      return { ...state,\n        clear: false\n      };\n\n    case 'error_phone':\n      return { ...state,\n        status: 'error',\n        message: 'Số điện thoại nhập không hợp lệ. Vui lòng kiểm tra lại'\n      };\n    // case 'no_images':\n    // \treturn {\n    // \t\t...state,\n    // \t\tstatus: 'error',\n    // \t\tmessage: 'Bài đăng cần kèm theo ảnh. Vui lòng thêm ảnh vào bài đăng.'\n    // \t}\n\n    default:\n      throw new Error('Impossible!');\n  }\n};\n\nconst UserProfilePage = () => {\n  _s();\n\n  const rules = {\n    email: [{\n      type: 'email',\n      required: true,\n      message: 'Vui lòng nhập Email'\n    }],\n    name: [{\n      required: true,\n      message: 'Vui lòng nhập Họ và Tên'\n    }],\n    username: [{\n      required: true,\n      message: 'Vui lòng nhập tên người dùng'\n    }],\n    phone: [{\n      // required: true,\n      message: 'Vui lòng nhập Số điện thoại'\n    }, _ref => {\n      let {\n        getFieldValue\n      } = _ref;\n      return {\n        validator(_, value) {\n          if (value.length == 10 && value[0] === '0' && /^\\d+$/.test(value)) {\n            return Promise.resolve();\n          }\n\n          return Promise.reject(new Error('Số điện thoại nhập không hợp lệ. Vui lòng kiểm tra lại'));\n        }\n\n      };\n    }],\n    address: [{\n      required: true,\n      message: 'Vui lòng nhập địa chỉ'\n    }]\n  };\n  const {\n    user,\n    cookies\n  } = useAuthState();\n  const [state, dispatch] = React.useReducer(newAvatar, {\n    status: 'idle',\n    clear: false,\n    message: null,\n    fileImg: [],\n    mainIndex: 0,\n    provinces: [],\n    initialValues: {\n      username: '',\n      email: user.email,\n      name: '',\n      phone: '',\n      address: '',\n      image: '' // user.userImage,\n\n    }\n  });\n  const [form] = Form.useForm();\n  const unmountedRef = React.useRef(false);\n  const history = useHistory();\n  const authenticate = useAuthenticate();\n  const [file, setFile] = useState(null);\n  React.useEffect(() => {\n    return () => {\n      unmountedRef.current = true;\n    };\n  }, []);\n  React.useLayoutEffect(() => {\n    if (!user) {\n      history.push('/');\n    }\n\n    const getProvinces = async () => {\n      const res = await axios.get('/api/provinces');\n\n      if (!unmountedRef.current) {\n        dispatch({\n          type: 'get_provinces',\n          provinces: res.data\n        });\n      }\n    };\n\n    getProvinces();\n  }, [user, history]);\n\n  const onFinish = async values => {\n    let formData = new FormData();\n\n    for (const key in values) {\n      var _values$key;\n\n      formData.append(key, (_values$key = values[key]) !== null && _values$key !== void 0 ? _values$key : '');\n    }\n\n    formData.append('userImage', file);\n    formData.append('userId', user.id);\n    formData.append('mainIndex', state.mainIndex); // state.fileImg.forEach((file, i) => formData.append(`images${i}`, file))\n\n    const modal = Modal.info({\n      className: 'new-user-modal',\n      title: /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"new-user-modal__title\",\n        children: \"\\u0110ang x\\u1EED l\\xFD\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 179,\n        columnNumber: 11\n      }, this),\n      content: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"new-user-modal-content\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: \"\\u0110ang x\\u1EED l\\xFD c\\u1EADp nh\\u1EADt c\\u1EE7a b\\u1EA1n, vui l\\xF2ng ch\\u1EDD trong gi\\xE2y l\\xE1t.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 182,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(Loader, {\n          size: 150\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 185,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 181,\n        columnNumber: 5\n      }, this),\n      icon: null,\n      okButtonProps: {\n        hidden: true\n      }\n    });\n\n    try {\n      await axios.patch(`/api/users/${user.id}/`, formData, {// headers: {\n        // \tAuthorization: `Bearer ${cookies['gp_token']}`\n        // }\n      }).then(res => {\n        // console.log(res.data)\n        authenticate({\n          user: res.data,\n          token: cookies['gp_token']\n        });\n      });\n\n      if (!unmountedRef.current) {\n        form.resetFields();\n        dispatch({\n          type: 'upload_success'\n        });\n      }\n    } catch (error) {\n      if (!unmountedRef.current) {\n        dispatch({\n          type: 'upload_fail'\n        });\n      }\n    } finally {\n      window.scrollTo(0, 0);\n\n      if (!unmountedRef.current) {\n        modal.destroy();\n      }\n    }\n  };\n\n  const onAlertClose = () => {\n    dispatch({\n      type: 'reset_status'\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(SiteLayout, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      children: cookies['gp_token'] ? /*#__PURE__*/_jsxDEV(Row, {\n        className: \"profile-page\",\n        children: /*#__PURE__*/_jsxDEV(Col, {\n          xs: 24,\n          lg: 24,\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"app-profile-content\",\n            children: /*#__PURE__*/_jsxDEV(Row, {\n              className: \"w-100\",\n              justify: \"center\",\n              children: /*#__PURE__*/_jsxDEV(Col, {\n                span: 12,\n                className: \"c-2\",\n                children: /*#__PURE__*/_jsxDEV(Tabs, {\n                  defaultActiveKey: \"1\",\n                  size: \"large\",\n                  tabBarGutter: \"40px\",\n                  children: /*#__PURE__*/_jsxDEV(TabPane, {\n                    tab: \"Th\\xF4ng tin ng\\u01B0\\u1EDDi d\\xF9ng\",\n                    className: \"info-user-tab\",\n                    children: /*#__PURE__*/_jsxDEV(\"div\", {\n                      children: [state.message ? /*#__PURE__*/_jsxDEV(Alert, {\n                        className: `update-user__alert update-user__alert--${state.status}`,\n                        message: state.message,\n                        type: state.status,\n                        closable: true,\n                        onClose: onAlertClose\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 240,\n                        columnNumber: 14\n                      }, this) : null, /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"profile-acount-page\",\n                        children: /*#__PURE__*/_jsxDEV(Col, {\n                          children: /*#__PURE__*/_jsxDEV(Form, {\n                            className: \"update-user-info\",\n                            layout: \"vertical\",\n                            form: form,\n                            onFinish: onFinish,\n                            scrollToFirstError: true,\n                            initialValues: state.initialValues,\n                            children: /*#__PURE__*/_jsxDEV(Col, {\n                              className: \"profile-item\",\n                              children: [/*#__PURE__*/_jsxDEV(Col, {\n                                className: \"profile-avatar\",\n                                span: 6,\n                                push: 9,\n                                justify: \"center\",\n                                children: /*#__PURE__*/_jsxDEV(Form.Item, {\n                                  name: \"userImage\",\n                                  children: /*#__PURE__*/_jsxDEV(UploadAvatar, {\n                                    setFile: setFile,\n                                    name: \"userImage\"\n                                  }, void 0, false, {\n                                    fileName: _jsxFileName,\n                                    lineNumber: 266,\n                                    columnNumber: 18\n                                  }, this)\n                                }, void 0, false, {\n                                  fileName: _jsxFileName,\n                                  lineNumber: 264,\n                                  columnNumber: 17\n                                }, this)\n                              }, void 0, false, {\n                                fileName: _jsxFileName,\n                                lineNumber: 260,\n                                columnNumber: 15\n                              }, this), /*#__PURE__*/_jsxDEV(Form.Item, {\n                                className: \"m-0\",\n                                name: \"name\",\n                                rules: rules.name,\n                                label: \"H\\u1ECD v\\xE0 T\\xEAn\",\n                                children: /*#__PURE__*/_jsxDEV(CustomInputField // placeholder=\"Họ và Tên\"\n                                , {\n                                  customStyle: \"style#2\"\n                                }, void 0, false, {\n                                  fileName: _jsxFileName,\n                                  lineNumber: 279,\n                                  columnNumber: 16\n                                }, this)\n                              }, void 0, false, {\n                                fileName: _jsxFileName,\n                                lineNumber: 273,\n                                columnNumber: 15\n                              }, this), /*#__PURE__*/_jsxDEV(Form.Item, {\n                                className: \"m-0\",\n                                name: \"username\",\n                                rules: rules.username,\n                                label: \"T\\xEAn ng\\u01B0\\u1EDDi d\\xF9ng\",\n                                children: /*#__PURE__*/_jsxDEV(CustomInputField // placeholder=\"Tên người dùng\"\n                                , {\n                                  customStyle: \"style#2\"\n                                }, void 0, false, {\n                                  fileName: _jsxFileName,\n                                  lineNumber: 291,\n                                  columnNumber: 16\n                                }, this)\n                              }, void 0, false, {\n                                fileName: _jsxFileName,\n                                lineNumber: 285,\n                                columnNumber: 15\n                              }, this), /*#__PURE__*/_jsxDEV(Form.Item, {\n                                className: \"m-0\",\n                                name: \"email\",\n                                rules: rules.email,\n                                label: \"Email\",\n                                children: /*#__PURE__*/_jsxDEV(CustomInputField // placeholder=\"Email\"\n                                , {\n                                  customStyle: \"style#2\",\n                                  disabled: true // defaultValue={user.email}\n\n                                }, void 0, false, {\n                                  fileName: _jsxFileName,\n                                  lineNumber: 304,\n                                  columnNumber: 16\n                                }, this)\n                              }, void 0, false, {\n                                fileName: _jsxFileName,\n                                lineNumber: 298,\n                                columnNumber: 15\n                              }, this), /*#__PURE__*/_jsxDEV(Form.Item, {\n                                className: \"m-0\",\n                                name: \"userPhoneNumber\",\n                                rules: rules.phone,\n                                label: \"S\\u1ED1 \\u0111i\\u1EC7n tho\\u1EA1i\",\n                                children: /*#__PURE__*/_jsxDEV(CustomInputField // placeholder=\"Số điện thoại\"\n                                , {\n                                  customStyle: \"style#2\",\n                                  maxLength: 10\n                                }, void 0, false, {\n                                  fileName: _jsxFileName,\n                                  lineNumber: 318,\n                                  columnNumber: 16\n                                }, this)\n                              }, void 0, false, {\n                                fileName: _jsxFileName,\n                                lineNumber: 312,\n                                columnNumber: 15\n                              }, this), /*#__PURE__*/_jsxDEV(Form.Item, {\n                                label: \"\\u0110\\u1ECBa ch\\u1EC9\",\n                                name: \"userProvinceID\",\n                                rules: rules.address,\n                                children: /*#__PURE__*/_jsxDEV(Select, {\n                                  className: \"low-bradius-formpage-form__selectprofile\",\n                                  children: state.provinces.map(address => /*#__PURE__*/_jsxDEV(Select.Option, {\n                                    value: address.userProvinceID,\n                                    children: address.userProvinceName\n                                  }, address.userProvinceName, false, {\n                                    fileName: _jsxFileName,\n                                    lineNumber: 335,\n                                    columnNumber: 18\n                                  }, this))\n                                }, void 0, false, {\n                                  fileName: _jsxFileName,\n                                  lineNumber: 333,\n                                  columnNumber: 17\n                                }, this)\n                              }, void 0, false, {\n                                fileName: _jsxFileName,\n                                lineNumber: 328,\n                                columnNumber: 16\n                              }, this), /*#__PURE__*/_jsxDEV(Form.Item, {\n                                className: \"\",\n                                children: /*#__PURE__*/_jsxDEV(Button, {\n                                  name: \"submit\",\n                                  className: \"submit-button\",\n                                  htmlType: \"submit\",\n                                  type: \"primary\",\n                                  children: /*#__PURE__*/_jsxDEV(\"span\", {\n                                    children: \"Ho\\xE0n t\\u1EA5t\"\n                                  }, void 0, false, {\n                                    fileName: _jsxFileName,\n                                    lineNumber: 352,\n                                    columnNumber: 18\n                                  }, this)\n                                }, void 0, false, {\n                                  fileName: _jsxFileName,\n                                  lineNumber: 347,\n                                  columnNumber: 17\n                                }, this)\n                              }, void 0, false, {\n                                fileName: _jsxFileName,\n                                lineNumber: 345,\n                                columnNumber: 16\n                              }, this)]\n                            }, void 0, true, {\n                              fileName: _jsxFileName,\n                              lineNumber: 259,\n                              columnNumber: 14\n                            }, this)\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 251,\n                            columnNumber: 13\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 249,\n                          columnNumber: 13\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 248,\n                        columnNumber: 12\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 238,\n                      columnNumber: 12\n                    }, this)\n                  }, \"1\", false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 237,\n                    columnNumber: 11\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 236,\n                  columnNumber: 10\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 235,\n                columnNumber: 8\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 234,\n              columnNumber: 7\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 233,\n            columnNumber: 6\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 232,\n          columnNumber: 5\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 231,\n        columnNumber: 4\n      }, this) : /*#__PURE__*/_jsxDEV(Custom404, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 375,\n        columnNumber: 5\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 229,\n      columnNumber: 3\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 228,\n    columnNumber: 3\n  }, this);\n};\n\n_s(UserProfilePage, \"3EyGpOIH1cVRpbG82eSIJHYSKPQ=\", false, function () {\n  return [useAuthState, Form.useForm, useHistory, useAuthenticate];\n});\n\n_c = UserProfilePage;\nexport default UserProfilePage;\n\nvar _c;\n\n$RefreshReg$(_c, \"UserProfilePage\");","map":{"version":3,"sources":["/home/quan/code/code_js/goodpicker/frontend/src/pages/profile/index.js"],"names":["Row","Col","Form","Button","Upload","message","Tabs","Steps","Result","Select","Tag","React","useEffect","useState","CustomInputField","Link","withRouter","useHistory","useParams","SiteLayout","ChangePassword","useAuthenticate","useAuthState","Custom404","axios","Alert","Modal","Loader","UploadAvatar","TabPane","newAvatar","state","action","type","provinces","fileImg","mainIndex","status","clear","Error","UserProfilePage","rules","email","required","name","username","phone","getFieldValue","validator","_","value","length","test","Promise","resolve","reject","address","user","cookies","dispatch","useReducer","initialValues","image","form","useForm","unmountedRef","useRef","history","authenticate","file","setFile","current","useLayoutEffect","push","getProvinces","res","get","data","onFinish","values","formData","FormData","key","append","id","modal","info","className","title","content","icon","okButtonProps","hidden","patch","then","token","resetFields","error","window","scrollTo","destroy","onAlertClose","map","userProvinceID","userProvinceName"],"mappings":"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","sourcesContent":["import './style.scss'\nimport { Row, Col, Form, Button, Upload, message, Tabs,Steps, Result, Select, Tag } from 'antd'\nimport React, { useEffect, useState } from 'react'\nimport CustomInputField from '../../components/elements/input'\nimport { Link, withRouter, useHistory, useParams } from 'react-router-dom'\nimport SiteLayout from '../../components/layouts/site-layout'\nimport ChangePassword from './change_password'\nimport { useAuthenticate, useAuthState } from '../../hooks/useAuth'\nimport Custom404 from '../404'\nimport axios from 'axios'\nimport { Alert, Modal } from 'antd'\nimport Loader from '../../components/elements/loader'\nimport UploadAvatar from './upload-avatar'\n// import Avatar from './test/abc'\n\nconst {TabPane} = Tabs;\n\nconst newAvatar = (state, action) => {\n\tswitch (action.type) {\n\t\tcase 'get_provinces':\n\t\t\treturn { ...state, provinces: action.provinces }\n\t\tcase 'update_files':\n\t\t\treturn { ...state, fileImg: action.fileImg }\n\t\tcase 'update_index':\n\t\t\treturn { ...state, mainIndex: action.mainIndex }\n\t\tcase 'upload_success':\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tstatus: 'success',\n\t\t\t\tmessage: 'Cập nhật thành công',\n\t\t\t\tclear: true\n\t\t\t}\n\t\tcase 'upload_fail':\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tstatus: 'error',\n\t\t\t\tmessage:\n\t\t\t\t\t'Đã có lỗi trong quá trình cập nhật. Vui lòng kiểm tra thông tin đã nhập'\n\t\t\t}\n\t\tcase 'reset_status':\n\t\t\treturn { ...state, status: 'idle' }\n\t\tcase 'reset_images':\n\t\t\treturn { ...state, clear: false }\n\t\tcase 'error_phone' :\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tstatus:'error',\n\t\t\t\tmessage:\n\t\t\t\t\t'Số điện thoại nhập không hợp lệ. Vui lòng kiểm tra lại'\n\t\t\t}\n\t\t// case 'no_images':\n\t\t// \treturn {\n\t\t// \t\t...state,\n\t\t// \t\tstatus: 'error',\n\t\t// \t\tmessage: 'Bài đăng cần kèm theo ảnh. Vui lòng thêm ảnh vào bài đăng.'\n\t\t// \t}\n\t\tdefault:\n\t\t\tthrow new Error('Impossible!')\n\t}\n}\n\n\nconst UserProfilePage = () => {\n\t\n\tconst rules = {\n        email: [\n            {\n                type: 'email',\n                required: true,\n                message: 'Vui lòng nhập Email'\n            }\n        ],\n        name: [\n            {\n                required: true,\n                message: 'Vui lòng nhập Họ và Tên'\n            }\n        ],\n        username: [\n            {\n                required: true,\n                message: 'Vui lòng nhập tên người dùng'\n            }\n        ],\n\t\tphone: [\n            {\n\t\t\t\t\n                // required: true,\n                message: 'Vui lòng nhập Số điện thoại'\n            },\n\t\t\t({ getFieldValue }) => ({\n\t\t\t\tvalidator(_, value) {\n\t\t\t\t\tif ((value.length == 10 ) && value[0] === '0' && /^\\d+$/.test(value)) {\n\t\t\t\t\t\treturn Promise.resolve()\n\t\t\t\t\t}\n\n\t\t\t\t\treturn Promise.reject(new Error('Số điện thoại nhập không hợp lệ. Vui lòng kiểm tra lại'))\n\t\t\t\t}\n\t\t\t})\n        ],\n        address: [\n            {\n                required: true,\n                message: 'Vui lòng nhập địa chỉ'\n            }\n        ]\n    }\n\n\n\tconst { user, cookies } = useAuthState()\n\t\n\tconst [state, dispatch] = React.useReducer(newAvatar, {\n\t\tstatus: 'idle',\n\t\tclear: false,\n\t\tmessage: null,\n\t\tfileImg: [],\n\t\tmainIndex: 0,\n\t\tprovinces: [],\n\t\tinitialValues: {\n            username:'', \n            email:user.email, \n\t\t\tname:'',\n\t\t\tphone:'',\n            address:'', \n\t\t\timage:'',// user.userImage,\n\t\t}\n\t})\n\t\n\tconst [form] = Form.useForm()\n\tconst unmountedRef = React.useRef(false)\n\tconst history = useHistory()\n\tconst authenticate = useAuthenticate()\n\n\tconst [file,setFile] = useState(null);\n\n\tReact.useEffect(() => {\n\t\treturn () => {\n\t\t\tunmountedRef.current = true\n\t\t}\n\t}, [])\n\n\n\tReact.useLayoutEffect(() => {\n\t\tif (!user) {\n\t\t\thistory.push('/')\n\t\t}\n\n\t\tconst getProvinces = async () => {\n\t\t\tconst res = await axios.get('/api/provinces')\n\t\t\tif (!unmountedRef.current) {\n\t\t\t\tdispatch({ type: 'get_provinces', provinces: res.data })\n\t\t\t}\n\t\t}\n\t\tgetProvinces()\n\t}, [user, history])\n\n\t\n\n\tconst onFinish = async values => {\n\n\n\t\tlet formData = new FormData()\n\n\t\tfor (const key in values) {\n\t\t\tformData.append(key, values[key] ?? '')\n\t\t}\n\n\n\n\t\tformData.append('userImage',file);\n\n\t\tformData.append('userId', user.id)\n\t\tformData.append('mainIndex', state.mainIndex)\n\t\t\n\t\t// state.fileImg.forEach((file, i) => formData.append(`images${i}`, file))\n\n\t\tconst modal = Modal.info({\n\t\t\tclassName: 'new-user-modal',\n\t\t\ttitle: <span className=\"new-user-modal__title\">Đang xử lý</span>,\n\t\t\tcontent: (\n\t\t\t\t<div className=\"new-user-modal-content\">\n\t\t\t\t\t<div>\n\t\t\t\t\t\tĐang xử lý cập nhật của bạn, vui lòng chờ trong giây lát.\n\t\t\t\t\t</div>\n\t\t\t\t\t<Loader size={150} />\n\t\t\t\t</div>\n\t\t\t),\n\t\t\ticon: null,\n\t\t\tokButtonProps: { hidden: true }\n\t\t})\n\n\t\ttry {\n\t\t\tawait axios.patch(`/api/users/${user.id}/`, formData, {\n\t\t\t\t// headers: {\n\t\t\t\t// \tAuthorization: `Bearer ${cookies['gp_token']}`\n\t\t\t\t// }\n\t\t\t})\n\t\t\t.then(res => {\n\t\t\t\t// console.log(res.data)\n\t\t\t\tauthenticate({user: res.data, token: cookies['gp_token']})\n\t\t\t})\n\n\t\t\tif (!unmountedRef.current) {\n\t\t\t\tform.resetFields()\n\t\t\t\tdispatch({ type: 'upload_success' })\n\t\t\t}\n\t\t} catch (error) {\n\t\t\tif (!unmountedRef.current) {\n\t\t\t\tdispatch({ type: 'upload_fail' })\n\t\t\t}\n\t\t} finally {\n\t\t\twindow.scrollTo(0, 0)\n\n\t\t\tif (!unmountedRef.current) {\n\t\t\t\tmodal.destroy()\n\t\t\t}\n\t\t}\n\t}\n\n\n\n\tconst onAlertClose = () => {\n\t\tdispatch({ type: 'reset_status' })\n\t}\n\n\t\n\treturn (\n\t\t<SiteLayout>\n\t\t<div>\n\t\t{cookies['gp_token']? (\n\t\t\t<Row className=\"profile-page\">\n\t\t\t\t<Col xs={24} lg={24}>\n\t\t\t\t\t<div className=\"app-profile-content\">\n\t\t\t\t\t\t<Row className=\"w-100\" justify=\"center\">\n\t\t\t\t\t\t\t<Col span={12} className=\"c-2\">\n\t\t\t\t\t\t\t\t\t<Tabs defaultActiveKey=\"1\" size=\"large\" tabBarGutter = \"40px\">\n\t\t\t\t\t\t\t\t\t\t<TabPane tab=\"Thông tin người dùng\" key=\"1\" className=\"info-user-tab\">\n\t\t\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t\t\t{state.message ? (\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Alert\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={`update-user__alert update-user__alert--${state.status}`}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmessage={state.message}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype={state.status}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclosable\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClose={onAlertClose}\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t) : null}\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"profile-acount-page\">\n\t\t\t\t\t\t\t\t\t\t\t\t<Col>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\t\t<Form \n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName =\"update-user-info\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tlayout=\"vertical\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tform={form}\n\t\t\t\t\t\t\t\t\t\t\t\t\tonFinish={onFinish}\n\t\t\t\t\t\t\t\t\t\t\t\t\tscrollToFirstError\n\t\t\t\t\t\t\t\t\t\t\t\t\tinitialValues={state.initialValues}\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Col className=\"profile-item\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Col className=\"profile-avatar\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tspan={6}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tpush={9}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tjustify=\"center\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Item\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname = \"userImage\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<UploadAvatar\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetFile={setFile}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname = \"userImage\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Form.Item>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Item\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"m-0\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"name\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\trules={rules.name}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel=\"Họ và Tên\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<CustomInputField\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// placeholder=\"Họ và Tên\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcustomStyle=\"style#2\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Form.Item>\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Item\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"m-0\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"username\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\trules={rules.username}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel=\"Tên người dùng\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<CustomInputField\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// placeholder=\"Tên người dùng\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcustomStyle=\"style#2\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Form.Item>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Item\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"m-0\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"email\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\trules={rules.email}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel=\"Email\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<CustomInputField\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// placeholder=\"Email\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcustomStyle=\"style#2\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// defaultValue={user.email}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Form.Item>\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Item\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"m-0\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"userPhoneNumber\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\trules={rules.phone}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel=\"Số điện thoại\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<CustomInputField\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// placeholder=\"Số điện thoại\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcustomStyle=\"style#2\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmaxLength={10}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Form.Item>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Item\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel=\"Địa chỉ\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"userProvinceID\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\trules={rules.address}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Select className=\"low-bradius-formpage-form__selectprofile\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{state.provinces.map(address => (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Select.Option\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tkey={address.userProvinceName}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={address.userProvinceID}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{address.userProvinceName}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Select.Option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Select>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Form.Item>\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Item\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"submit\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"submit-button\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thtmlType=\"submit\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"primary\"\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span>Hoàn tất</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Form.Item>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Col>\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Form>\n\t\t\t\t\t\t\t\t\t\t\t\t</Col>\n\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t</TabPane>\n\n\t\t\t\t\t\t\t\t\t{/* <TabPane tab=\"Thay đổi mật khẩu\" key=\"2\" className=\"info-user-tab\" disabled>\n\t\t\t\t\t\t\t\t\t\t<ChangePassword/>\n\t\t\t\t\t\t\t\t\t</TabPane> */}\n\t\t\t\t\t\t\t\t</Tabs>\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t</Row>\n\t\t\t\t\t</div>\n\t\t\t\t</Col>\n\t\t\t</Row>\n\t\t\t) : (\n\t\t\t\t<Custom404/>\n\t\t\t)\n\t\t\t}\n\t\t\t</div>\n\t\t</SiteLayout>\n\t)\n}\n\nexport default UserProfilePage"]},"metadata":{},"sourceType":"module"}