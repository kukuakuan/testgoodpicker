{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport React from 'react';\n\nconst useSessionStorage = function (key) {\n  _s();\n\n  let defaultValue = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n  let {\n    serialize = JSON.stringify,\n    deserialize = JSON.parse\n  } = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  const [state, setState] = React.useState(() => {\n    var valueInSessionStorage;\n    if (typeof window != 'undefined') valueInSessionStorage = window.sessionStorage.getItem(key);\n    if (valueInSessionStorage) return deserialize(valueInSessionStorage);\n    return typeof defaultValue == 'function' ? defaultValue() : defaultValue;\n  });\n  const prevKeyRef = React.useRef(key);\n  React.useEffect(() => {\n    const prevKey = prevKeyRef.current;\n    if (prevKey !== key) window.sessionStorage.removeItem(prevKey);\n    prevKeyRef.current = key;\n    window.sessionStorage.setItem(key, serialize(state));\n  }, [key, serialize, state]);\n  return [state, setState];\n};\n\n_s(useSessionStorage, \"sOfxdyQc8iQ7um18Kad7zcEofZ4=\");\n\nexport { useSessionStorage };","map":{"version":3,"sources":["/home/quan/Downloads/g/goodpicker-main/frontend/src/hooks/useSessionStorage.js"],"names":["React","useSessionStorage","key","defaultValue","serialize","JSON","stringify","deserialize","parse","state","setState","useState","valueInSessionStorage","window","sessionStorage","getItem","prevKeyRef","useRef","useEffect","prevKey","current","removeItem","setItem"],"mappings":";;AAAA,OAAOA,KAAP,MAAkB,OAAlB;;AAEA,MAAMC,iBAAiB,GAAG,UACzBC,GADyB,EAIrB;AAAA;;AAAA,MAFJC,YAEI,uEAFW,EAEX;AAAA,MADJ;AAAEC,IAAAA,SAAS,GAAGC,IAAI,CAACC,SAAnB;AAA8BC,IAAAA,WAAW,GAAGF,IAAI,CAACG;AAAjD,GACI,uEADuD,EACvD;AACJ,QAAM,CAACC,KAAD,EAAQC,QAAR,IAAoBV,KAAK,CAACW,QAAN,CAAe,MAAM;AAC9C,QAAIC,qBAAJ;AACA,QAAI,OAAOC,MAAP,IAAiB,WAArB,EACCD,qBAAqB,GAAGC,MAAM,CAACC,cAAP,CAAsBC,OAAtB,CAA8Bb,GAA9B,CAAxB;AAED,QAAIU,qBAAJ,EAA2B,OAAOL,WAAW,CAACK,qBAAD,CAAlB;AAE3B,WAAO,OAAOT,YAAP,IAAuB,UAAvB,GAAoCA,YAAY,EAAhD,GAAqDA,YAA5D;AACA,GARyB,CAA1B;AAUA,QAAMa,UAAU,GAAGhB,KAAK,CAACiB,MAAN,CAAaf,GAAb,CAAnB;AAEAF,EAAAA,KAAK,CAACkB,SAAN,CAAgB,MAAM;AACrB,UAAMC,OAAO,GAAGH,UAAU,CAACI,OAA3B;AACA,QAAID,OAAO,KAAKjB,GAAhB,EAAqBW,MAAM,CAACC,cAAP,CAAsBO,UAAtB,CAAiCF,OAAjC;AAErBH,IAAAA,UAAU,CAACI,OAAX,GAAqBlB,GAArB;AACAW,IAAAA,MAAM,CAACC,cAAP,CAAsBQ,OAAtB,CAA8BpB,GAA9B,EAAmCE,SAAS,CAACK,KAAD,CAA5C;AACA,GAND,EAMG,CAACP,GAAD,EAAME,SAAN,EAAiBK,KAAjB,CANH;AAQA,SAAO,CAACA,KAAD,EAAQC,QAAR,CAAP;AACA,CA1BD;;GAAMT,iB;;AA4BN,SAASA,iBAAT","sourcesContent":["import React from 'react'\n\nconst useSessionStorage = (\n\tkey,\n\tdefaultValue = '',\n\t{ serialize = JSON.stringify, deserialize = JSON.parse } = {}\n) => {\n\tconst [state, setState] = React.useState(() => {\n\t\tvar valueInSessionStorage\n\t\tif (typeof window != 'undefined')\n\t\t\tvalueInSessionStorage = window.sessionStorage.getItem(key)\n\n\t\tif (valueInSessionStorage) return deserialize(valueInSessionStorage)\n\n\t\treturn typeof defaultValue == 'function' ? defaultValue() : defaultValue\n\t})\n\n\tconst prevKeyRef = React.useRef(key)\n\n\tReact.useEffect(() => {\n\t\tconst prevKey = prevKeyRef.current\n\t\tif (prevKey !== key) window.sessionStorage.removeItem(prevKey)\n\n\t\tprevKeyRef.current = key\n\t\twindow.sessionStorage.setItem(key, serialize(state))\n\t}, [key, serialize, state])\n\n\treturn [state, setState]\n}\n\nexport { useSessionStorage }\n"]},"metadata":{},"sourceType":"module"}