{"ast":null,"code":"var _jsxFileName = \"/home/quan/code/code_js/goodpicker/frontend/src/pages/user/content/index.js\",\n    _s = $RefreshSig$();\n\nimport './style.scss';\nimport { Row, Col, List } from \"antd\";\nimport TimeAgo from \"javascript-time-ago\";\nimport axios from \"axios\";\nimport React, { Suspense } from \"react\";\nimport { useAuthState } from \"../../../hooks/useAuth\";\nimport { Link } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst ContentSide = _ref => {\n  _s();\n\n  let {\n    goodsID,\n    goodsName\n  } = _ref;\n  const {\n    user,\n    cookies\n  } = useAuthState();\n  const unmountedRef = React.useRef(false);\n  const [goods, setGoods] = React.useState([]);\n  const [count, setCount] = React.useState(0);\n  React.useEffect(() => {\n    return () => {\n      unmountedRef.current = true;\n    };\n  });\n  React.useEffect(() => {\n    const getGoods = async () => {\n      const res = await axios.get(`/api/goods?goodsCreateId=${user.id}&ordering=-goodsUpdatedTime`).then(res => {\n        setCount(res.data.length);\n        setGoods(res.data);\n      });\n    };\n\n    getGoods();\n  }, [goodsID]);\n  const [goodImg, setGoodImg] = React.useState();\n  const listData = [];\n\n  if (goods && goods.length !== 0) {\n    for (let i = 0; i < count; i++) {\n      let goodImg;\n      goodImg = goods[i].images.find(image => image.isMain === true).image;\n      let des;\n      if (goods[i].goodsDescription) des = goods[i].goodsDescription;else des = `Đây là sản phẩm của ` + user.name;\n      listData.push({\n        key: goods[i].goodsID,\n        title: goods[i].goodsName,\n        description: goods[i].goodsPrice,\n        content: des,\n        image: goodImg,\n        updateTime: goods[i].goodsUpdatedTime,\n        linkGoods: `/goods/${goods[i].goodsID}` // linkGoods: `/`\n\n      });\n    }\n  }\n\n  return /*#__PURE__*/_jsxDEV(React.Fragment, {\n    children: /*#__PURE__*/_jsxDEV(Col, {\n      className: \"user-category\",\n      children: [/*#__PURE__*/_jsxDEV(Row, {\n        className: \"user-category-title\",\n        children: /*#__PURE__*/_jsxDEV(\"h2\", {\n          children: /*#__PURE__*/_jsxDEV(\"b\", {\n            children: \"S\\u1EA3n ph\\u1EA9m \\u0111\\xE3 \\u0111\\u0103ng\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 10\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 6\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(Row, {\n        className: \"user-category-content\",\n        children: /*#__PURE__*/_jsxDEV(List, {\n          itemLayout: \"vertical\",\n          size: \"large\",\n          dataSource: listData,\n          pagination: {\n            onChange: page => {\n              console.log(page);\n            },\n            pageSize: 3\n          },\n          renderItem: item => /*#__PURE__*/_jsxDEV(List.Item, {\n            extra: /*#__PURE__*/_jsxDEV(\"img\", {\n              className: \"user-category-content-category-img\",\n              width: 200,\n              height: 200,\n              alt: \"logo\",\n              src: item.image\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 88,\n              columnNumber: 9\n            }, this),\n            children: [/*#__PURE__*/_jsxDEV(List.Item.Meta, {\n              //   avatar={<Avatar src={item.avatar} />}\n              title: /*#__PURE__*/_jsxDEV(Link, {\n                to: item.linkGoods,\n                children: /*#__PURE__*/_jsxDEV(\"h4\", {\n                  children: /*#__PURE__*/_jsxDEV(\"b\", {\n                    children: item.title\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 99,\n                    columnNumber: 47\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 99,\n                  columnNumber: 43\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 99,\n                columnNumber: 16\n              }, this),\n              description: /*#__PURE__*/_jsxDEV(\"h6\", {\n                children: /*#__PURE__*/_jsxDEV(\"i\", {\n                  children: item.description\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 100,\n                  columnNumber: 26\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 100,\n                columnNumber: 22\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 97,\n              columnNumber: 8\n            }, this), /*#__PURE__*/_jsxDEV(\"h6\", {\n              children: /*#__PURE__*/_jsxDEV(\"i\", {\n                children: item.content\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 102,\n                columnNumber: 13\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 102,\n              columnNumber: 9\n            }, this)]\n          }, item.key, true, {\n            fileName: _jsxFileName,\n            lineNumber: 84,\n            columnNumber: 7\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 6\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 66,\n    columnNumber: 9\n  }, this);\n};\n\n_s(ContentSide, \"gB8s0MkJpF20rTpq+YjokTbJntw=\", false, function () {\n  return [useAuthState];\n});\n\n_c = ContentSide;\nexport default ContentSide;\n\nvar _c;\n\n$RefreshReg$(_c, \"ContentSide\");","map":{"version":3,"sources":["/home/quan/code/code_js/goodpicker/frontend/src/pages/user/content/index.js"],"names":["Row","Col","List","TimeAgo","axios","React","Suspense","useAuthState","Link","ContentSide","goodsID","goodsName","user","cookies","unmountedRef","useRef","goods","setGoods","useState","count","setCount","useEffect","current","getGoods","res","get","id","then","data","length","goodImg","setGoodImg","listData","i","images","find","image","isMain","des","goodsDescription","name","push","key","title","description","goodsPrice","content","updateTime","goodsUpdatedTime","linkGoods","onChange","page","console","log","pageSize","item"],"mappings":";;;AAAA,OAAO,cAAP;AACA,SAASA,GAAT,EAAcC,GAAd,EAAmBC,IAAnB,QAA+B,MAA/B;AACA,OAAOC,OAAP,MAAoB,qBAApB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,KAAP,IAAeC,QAAf,QAA8B,OAA9B;AACA,SAASC,YAAT,QAA6B,wBAA7B;AACA,SAASC,IAAT,QAAqB,kBAArB;;;AAGA,MAAMC,WAAW,GAAG,QAA0B;AAAA;;AAAA,MAAzB;AAACC,IAAAA,OAAD;AAAUC,IAAAA;AAAV,GAAyB;AAE1C,QAAM;AAACC,IAAAA,IAAD;AAAOC,IAAAA;AAAP,MAAkBN,YAAY,EAApC;AACA,QAAMO,YAAY,GAAGT,KAAK,CAACU,MAAN,CAAa,KAAb,CAArB;AACA,QAAM,CAACC,KAAD,EAAQC,QAAR,IAAoBZ,KAAK,CAACa,QAAN,CAAe,EAAf,CAA1B;AACA,QAAM,CAACC,KAAD,EAAOC,QAAP,IAAmBf,KAAK,CAACa,QAAN,CAAe,CAAf,CAAzB;AAEAb,EAAAA,KAAK,CAACgB,SAAN,CAAgB,MAAK;AACjB,WAAO,MAAM;AACTP,MAAAA,YAAY,CAACQ,OAAb,GAAuB,IAAvB;AACH,KAFD;AAGH,GAJD;AAMAjB,EAAAA,KAAK,CAACgB,SAAN,CAAgB,MAAK;AACjB,UAAME,QAAQ,GAAG,YAAY;AACzB,YAAMC,GAAG,GAAG,MAAMpB,KAAK,CAACqB,GAAN,CACb,4BAA2Bb,IAAI,CAACc,EAAG,6BADtB,EAGjBC,IAHiB,CAGZH,GAAG,IAAI;AACTJ,QAAAA,QAAQ,CAACI,GAAG,CAACI,IAAJ,CAASC,MAAV,CAAR;AACZZ,QAAAA,QAAQ,CAACO,GAAG,CAACI,IAAL,CAAR;AACU,OANgB,CAAlB;AAQH,KATD;;AAWAL,IAAAA,QAAQ;AACX,GAbD,EAaE,CAACb,OAAD,CAbF;AAeH,QAAO,CAACoB,OAAD,EAAUC,UAAV,IAAwB1B,KAAK,CAACa,QAAN,EAA/B;AAEA,QAAMc,QAAQ,GAAG,EAAjB;;AACA,MAAGhB,KAAK,IAAIA,KAAK,CAACa,MAAN,KAAiB,CAA7B,EAAgC;AAC/B,SAAK,IAAII,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGd,KAApB,EAA2Bc,CAAC,EAA5B,EAAgC;AAC/B,UAAIH,OAAJ;AACAA,MAAAA,OAAO,GAAGd,KAAK,CAACiB,CAAD,CAAL,CAASC,MAAT,CAAgBC,IAAhB,CAAqBC,KAAK,IAAIA,KAAK,CAACC,MAAN,KAAiB,IAA/C,EAAqDD,KAA/D;AACA,UAAIE,GAAJ;AACA,UAAGtB,KAAK,CAACiB,CAAD,CAAL,CAASM,gBAAZ,EAA8BD,GAAG,GAAGtB,KAAK,CAACiB,CAAD,CAAL,CAASM,gBAAf,CAA9B,KACKD,GAAG,GAAI,sBAAD,GAAyB1B,IAAI,CAAC4B,IAApC;AAELR,MAAAA,QAAQ,CAACS,IAAT,CAAc;AACbC,QAAAA,GAAG,EAAE1B,KAAK,CAACiB,CAAD,CAAL,CAASvB,OADD;AAEbiC,QAAAA,KAAK,EAAE3B,KAAK,CAACiB,CAAD,CAAL,CAAStB,SAFH;AAGbiC,QAAAA,WAAW,EAAE5B,KAAK,CAACiB,CAAD,CAAL,CAASY,UAHT;AAIbC,QAAAA,OAAO,EAAER,GAJI;AAKbF,QAAAA,KAAK,EAAEN,OALM;AAMbiB,QAAAA,UAAU,EAAE/B,KAAK,CAACiB,CAAD,CAAL,CAASe,gBANR;AAObC,QAAAA,SAAS,EAAG,UAASjC,KAAK,CAACiB,CAAD,CAAL,CAASvB,OAAQ,EAPzB,CAQb;;AARa,OAAd;AAUA;AACD;;AAKE,sBACI,QAAC,KAAD,CAAO,QAAP;AAAA,2BACI,QAAC,GAAD;AAAK,MAAA,SAAS,EAAG,eAAjB;AAAA,8BACR,QAAC,GAAD;AAAK,QAAA,SAAS,EAAC,qBAAf;AAAA,+BACC;AAAA,iCAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAJ;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA,cADQ,eAIR,QAAC,GAAD;AAAK,QAAA,SAAS,EAAC,uBAAf;AAAA,+BACC,QAAC,IAAD;AACC,UAAA,UAAU,EAAC,UADZ;AAEC,UAAA,IAAI,EAAC,OAFN;AAGC,UAAA,UAAU,EAAEsB,QAHb;AAIC,UAAA,UAAU,EAAE;AACZkB,YAAAA,QAAQ,EAAEC,IAAI,IAAI;AACjBC,cAAAA,OAAO,CAACC,GAAR,CAAYF,IAAZ;AACA,aAHW;AAIZG,YAAAA,QAAQ,EAAE;AAJE,WAJb;AAWC,UAAA,UAAU,EAAEC,IAAI,iBAChB,QAAC,IAAD,CAAM,IAAN;AAGC,YAAA,KAAK,eACJ;AACC,cAAA,SAAS,EAAG,oCADb;AAEC,cAAA,KAAK,EAAE,GAFR;AAGC,cAAA,MAAM,EAAE,GAHT;AAIC,cAAA,GAAG,EAAC,MAJL;AAKC,cAAA,GAAG,EAAEA,IAAI,CAACnB;AALX;AAAA;AAAA;AAAA;AAAA,oBAJF;AAAA,oCAaC,QAAC,IAAD,CAAM,IAAN,CAAW,IAAX;AACC;AACA,cAAA,KAAK,eAAE,QAAC,IAAD;AAAM,gBAAA,EAAE,EAAGmB,IAAI,CAACN,SAAhB;AAAA,uCAA2B;AAAA,yCAAI;AAAA,8BAAIM,IAAI,CAACZ;AAAT;AAAA;AAAA;AAAA;AAAA;AAAJ;AAAA;AAAA;AAAA;AAAA;AAA3B;AAAA;AAAA;AAAA;AAAA,sBAFR;AAGC,cAAA,WAAW,eAAE;AAAA,uCAAI;AAAA,4BAAIY,IAAI,CAACX;AAAT;AAAA;AAAA;AAAA;AAAA;AAAJ;AAAA;AAAA;AAAA;AAAA;AAHd;AAAA;AAAA;AAAA;AAAA,oBAbD,eAkBE;AAAA,qCAAI;AAAA,0BAAIW,IAAI,CAACT;AAAT;AAAA;AAAA;AAAA;AAAA;AAAJ;AAAA;AAAA;AAAA;AAAA,oBAlBF;AAAA,aACMS,IAAI,CAACb,GADX;AAAA;AAAA;AAAA;AAAA;AAZD;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA,cAJQ;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,UADJ;AA6CH,CApGD;;GAAMjC,W;UAEsBF,Y;;;KAFtBE,W;AAsGN,eAAeA,WAAf","sourcesContent":["import './style.scss'\nimport { Row, Col, List } from \"antd\"\nimport TimeAgo from \"javascript-time-ago\"\nimport axios from \"axios\"\nimport React, {Suspense} from \"react\"\nimport { useAuthState } from \"../../../hooks/useAuth\"\nimport { Link } from 'react-router-dom'\n\n\nconst ContentSide = ({goodsID, goodsName}) => {\n\n    const {user, cookies} = useAuthState()\n    const unmountedRef = React.useRef(false)\n    const [goods, setGoods] = React.useState([])\n    const [count,setCount] = React.useState(0)\n\n    React.useEffect(()=> {\n        return () => {\n            unmountedRef.current = true\n        }\n    })\n\n    React.useEffect(()=> {\n        const getGoods = async () => {\n            const res = await axios.get (\n                `/api/goods?goodsCreateId=${user.id}&ordering=-goodsUpdatedTime`\n            )\n            .then(res => {\n                setCount(res.data.length)\n\t\t\t\tsetGoods(res.data)\n            \t}\n            )\n        }\n\n        getGoods()\n    },[goodsID])\n\n\tconst  [goodImg, setGoodImg] = React.useState()\n\n\tconst listData = [];\n\tif(goods && goods.length !== 0) {\n\t\tfor (let i = 0; i < count; i++) {\n\t\t\tlet goodImg;\n\t\t\tgoodImg = goods[i].images.find(image => image.isMain === true).image;\n\t\t\tlet des;\n\t\t\tif(goods[i].goodsDescription) des = goods[i].goodsDescription;\n\t\t\telse des = `Đây là sản phẩm của ` + user.name\n\n\t\t\tlistData.push({\n\t\t\t\tkey: goods[i].goodsID,\n\t\t\t\ttitle: goods[i].goodsName,\n\t\t\t\tdescription: goods[i].goodsPrice,\n\t\t\t\tcontent: des,\n\t\t\t\timage: goodImg,\n\t\t\t\tupdateTime: goods[i].goodsUpdatedTime,\n\t\t\t\tlinkGoods: `/goods/${goods[i].goodsID}`\n\t\t\t\t// linkGoods: `/`\n\t\t\t});\n\t\t}\n\t}\n    \n\n\t\n\n    return (\n        <React.Fragment>\n            <Col className = \"user-category\">\n\t\t\t\t<Row className=\"user-category-title\">\n\t\t\t\t\t<h2><b>Sản phẩm đã đăng</b></h2>\n\t\t\t\t</Row>\n\t\t\t\t<Row className=\"user-category-content\"> \n\t\t\t\t\t<List\n\t\t\t\t\t\titemLayout=\"vertical\"\n\t\t\t\t\t\tsize=\"large\"\n\t\t\t\t\t\tdataSource={listData}\n\t\t\t\t\t\tpagination={{\n\t\t\t\t\t\tonChange: page => {\n\t\t\t\t\t\t\tconsole.log(page);\n\t\t\t\t\t\t},\n\t\t\t\t\t\tpageSize: 3,\n\t\t\t\t\t\t}}\n\t\t\t\t\t\t\n\t\t\t\t\t\trenderItem={item => (\n\t\t\t\t\t\t<List.Item\n\t\t\t\t\t\t\tkey={item.key}\n\t\t\t\t\t\t\n\t\t\t\t\t\t\textra={\n\t\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\t\tclassName = \"user-category-content-category-img\"\n\t\t\t\t\t\t\t\t\twidth={200}\n\t\t\t\t\t\t\t\t\theight={200}\n\t\t\t\t\t\t\t\t\talt=\"logo\"\n\t\t\t\t\t\t\t\t\tsrc={item.image}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<List.Item.Meta\n\t\t\t\t\t\t\t\t//   avatar={<Avatar src={item.avatar} />}\n\t\t\t\t\t\t\t\ttitle={<Link to ={item.linkGoods}><h4><b>{item.title}</b></h4></Link>}\n\t\t\t\t\t\t\t\tdescription={<h6><i>{item.description}</i></h6>}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<h6><i>{item.content}</i></h6>\n\t\t\t\t\t\t\t</List.Item>\n\t\t\t\t\t\t)}\n\t\t\t\t\t/>\n\t\t\t\t</Row>\n\t\t\t</Col>\n        </React.Fragment>\n    )\n}\n\nexport default ContentSide"]},"metadata":{},"sourceType":"module"}