{"ast":null,"code":"var _jsxFileName = \"/home/quan/Downloads/g/goodpicker-main/frontend/src/pages/home/category/index.js\",\n    _s = $RefreshSig$();\n\nimport './style.scss';\nimport React from 'react';\nimport axios from 'axios';\nimport TimeAgo from 'javascript-time-ago';\nimport { Col, Row, Skeleton } from 'antd';\nimport { Link } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst Category = _ref => {\n  _s();\n\n  let {\n    categoryId,\n    categoryName\n  } = _ref;\n  const [goods, setGoods] = React.useState([]);\n  const timeAgo = new TimeAgo('vi-VN');\n  const unmountedRef = React.useRef(false);\n  React.useEffect(() => {\n    return () => {\n      unmountedRef.current = true;\n    };\n  });\n  React.useEffect(() => {\n    const getGoods = async () => {\n      const res = await axios.get(`/api/goods?goodsCategoryID=${categoryId}&goodsStatus=false&limit=6&ordering=-goodsUpdatedTime`);\n\n      if (!unmountedRef.current) {\n        setGoods(res.data.results);\n      }\n    };\n\n    getGoods();\n  }, [categoryId]);\n\n  const renderSkeleton = () => {\n    var skeletons = [];\n\n    for (let i = 0; i < 4; i++) skeletons.push( /*#__PURE__*/_jsxDEV(Col, {\n      md: 6,\n      className: \"homepage-newest-category-item\",\n      children: [/*#__PURE__*/_jsxDEV(Skeleton.Input, {\n        className: \"homepage-newest-category-item-skeleton__img\",\n        active: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 6\n      }, this), /*#__PURE__*/_jsxDEV(Skeleton, {\n        active: true,\n        paragraph: {\n          rows: 3\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 6\n      }, this)]\n    }, `categoryItemSke#${i + 1}`, true, {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 5\n    }, this));\n\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: skeletons\n    }, void 0, false);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"homepage-newest-category\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"homepage-newest-category__title\",\n      children: categoryName\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(Row, {\n      className: \"homepage-newest-category-row\",\n      children: goods.length !== 0 ? goods.map((item, i) => /*#__PURE__*/_jsxDEV(Col, {\n        xs: 24,\n        md: 6,\n        className: `homepage-newest-category-item${i % 3 === 0 ? ' homepage-newest-category-item--first' : ''}`,\n        children: /*#__PURE__*/_jsxDEV(Link, {\n          to: `/goods/${item.goodsID}`,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"homepage-newest-category-item-img-wrapper\",\n            children: /*#__PURE__*/_jsxDEV(\"img\", {\n              src: item.images.find(image => image.isMain === true).image,\n              alt: item.goodsName\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 71,\n              columnNumber: 11\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 10\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"homepage-newest-category-item__ago\",\n            children: timeAgo.format(Date.now() - (new Date() - new Date(item.goodsUpdatedTime)))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 10\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"homepage-newest-category-item__name\",\n            children: item.goodsName\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 84,\n            columnNumber: 10\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"homepage-newest-category-item__price\",\n            children: [item.goodsPrice.toLocaleString(), \"\\u20AB\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 87,\n            columnNumber: 10\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 9\n        }, this)\n      }, `${item.goodsID}${item.goodsUpdatedTime}`, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 8\n      }, this)) : renderSkeleton()\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 4\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 55,\n    columnNumber: 3\n  }, this);\n};\n\n_s(Category, \"XmmC+F4ke3y9xu2XTNMQB8qOptE=\");\n\n_c = Category;\nexport default Category;\n\nvar _c;\n\n$RefreshReg$(_c, \"Category\");","map":{"version":3,"sources":["/home/quan/Downloads/g/goodpicker-main/frontend/src/pages/home/category/index.js"],"names":["React","axios","TimeAgo","Col","Row","Skeleton","Link","Category","categoryId","categoryName","goods","setGoods","useState","timeAgo","unmountedRef","useRef","useEffect","current","getGoods","res","get","data","results","renderSkeleton","skeletons","i","push","rows","length","map","item","goodsID","images","find","image","isMain","goodsName","format","Date","now","goodsUpdatedTime","goodsPrice","toLocaleString"],"mappings":"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","sourcesContent":["import './style.scss'\n\nimport React from 'react'\nimport axios from 'axios'\nimport TimeAgo from 'javascript-time-ago'\nimport { Col, Row, Skeleton } from 'antd'\nimport { Link } from 'react-router-dom'\n\nconst Category = ({ categoryId, categoryName }) => {\n\tconst [goods, setGoods] = React.useState([])\n\tconst timeAgo = new TimeAgo('vi-VN')\n\tconst unmountedRef = React.useRef(false)\n\n\tReact.useEffect(() => {\n\t\treturn () => {\n\t\t\tunmountedRef.current = true\n\t\t}\n\t})\n\n\tReact.useEffect(() => {\n\t\tconst getGoods = async () => {\n\t\t\tconst res = await axios.get(\n\t\t\t\t`/api/goods?goodsCategoryID=${categoryId}&goodsStatus=false&limit=6&ordering=-goodsUpdatedTime`\n\t\t\t)\n\n\t\t\tif (!unmountedRef.current) {\n\t\t\t\tsetGoods(res.data.results)\n\t\t\t}\n\t\t}\n\n\t\tgetGoods()\n\t}, [categoryId])\n\n\tconst renderSkeleton = () => {\n\t\tvar skeletons = []\n\t\tfor (let i = 0; i < 4; i++)\n\t\t\tskeletons.push(\n\t\t\t\t<Col\n\t\t\t\t\tkey={`categoryItemSke#${i + 1}`}\n\t\t\t\t\tmd={6}\n\t\t\t\t\tclassName=\"homepage-newest-category-item\"\n\t\t\t\t>\n\t\t\t\t\t<Skeleton.Input\n\t\t\t\t\t\tclassName=\"homepage-newest-category-item-skeleton__img\"\n\t\t\t\t\t\tactive\n\t\t\t\t\t/>\n\n\t\t\t\t\t<Skeleton active paragraph={{ rows: 3 }} />\n\t\t\t\t</Col>\n\t\t\t)\n\t\treturn <>{skeletons}</>\n\t}\n\n\treturn (\n\t\t<div className=\"homepage-newest-category\">\n\t\t\t<div className=\"homepage-newest-category__title\">{categoryName}</div>\n\n\t\t\t<Row className=\"homepage-newest-category-row\">\n\t\t\t\t{goods.length !== 0\n\t\t\t\t\t? goods.map((item, i) => (\n\t\t\t\t\t\t\t<Col\n\t\t\t\t\t\t\t\tkey={`${item.goodsID}${item.goodsUpdatedTime}`}\n\t\t\t\t\t\t\t\txs={24}\n\t\t\t\t\t\t\t\tmd={6}\n\t\t\t\t\t\t\t\tclassName={`homepage-newest-category-item${\n\t\t\t\t\t\t\t\t\ti % 3 === 0 ? ' homepage-newest-category-item--first' : ''\n\t\t\t\t\t\t\t\t}`}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<Link to={`/goods/${item.goodsID}`}>\n\t\t\t\t\t\t\t\t\t<div className=\"homepage-newest-category-item-img-wrapper\">\n\t\t\t\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\t\t\t\tsrc={\n\t\t\t\t\t\t\t\t\t\t\t\titem.images.find(image => image.isMain === true).image\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\talt={item.goodsName}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div className=\"homepage-newest-category-item__ago\">\n\t\t\t\t\t\t\t\t\t\t{timeAgo.format(\n\t\t\t\t\t\t\t\t\t\t\tDate.now() -\n\t\t\t\t\t\t\t\t\t\t\t\t(new Date() - new Date(item.goodsUpdatedTime))\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div className=\"homepage-newest-category-item__name\">\n\t\t\t\t\t\t\t\t\t\t{item.goodsName}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div className=\"homepage-newest-category-item__price\">\n\t\t\t\t\t\t\t\t\t\t{item.goodsPrice.toLocaleString()}₫\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t  ))\n\t\t\t\t\t: renderSkeleton()}\n\t\t\t</Row>\n\t\t</div>\n\t)\n}\n\nexport default Category\n"]},"metadata":{},"sourceType":"module"}